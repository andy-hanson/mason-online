<!DOCTYPE html><html><head><title>tour/type - mason programming language</title><meta charset="utf-8"><meta name="description" content="Mason is a new programming language compiling to JavaScript. It runs on the web and in node.js."><link rel="icon" href="/icon.svg"><!-- ID needed because mason-editor.js is not run inside of this.--><link id="link-mason-editor" rel="import" href="/mason-editor"><!-- I'd like to include this in mason-editor.pug, but RequireJS won't let me.--><link rel="stylesheet" href="/style/layout.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga')
ga('create', 'UA-66651880-1', 'auto')
ga('send', 'pageview')
</script><script src="/lib/requirejs/require.js"></script><script>requirejs.config({
	baseUrl: '/lib',
	paths: {
		marked: 'marked/marked.min',
		msl: 'msl/lib',
		'mason-compile': 'mason-compile/lib'
	}
})
// kludge: need to require bootstrap because mason modules lazily load using _ms
require(['msl/private/bootstrap'], () =>
	require(['../script/mason-editor/mason-editor']), err => { throw err })
</script></head><body><header><h1><a href="/">mason</a></h1><nav><a href="basic">basic</a><a href="=">=</a><a href="if">if</a><a href="try">try</a><a href="poly">poly</a><a href="class">class</a><a href="trait">trait</a><a href="type">type</a><a href="misc">misc</a><a href="for">for</a><a href="pattern">pattern</a><a href="yield">yield</a><a href="async">async</a><a href="doc">doc</a></nav></header><main><section><p>There are more types than just <a href="./class">classes and kinds</a>.</p><p>The kind <a href="//github.com/mason-lang/msl/tree/master/src/Type/Type.ms">Type</a> can be implemented by anything defining the method <a href="//github.com/mason-lang/msl/tree/master/src/Type/Type.ms">has-instance?</a>.</p><p>The colon <code>:</code> is special syntax for using <code>instanceof</code>.</p><div class="aside">Currently it uses a shim because <code>Symbol.hasInstance</code> isn't yet implemented in any JS engine.</div><p>When declaring a local, use <code>:</code> to assert its type.
For function return types, write the type right after the <code>\</code>.</p><p>The <a href="//github.com/mason-lang/msl/tree/master/src/Type/primitive.ms">Str</a> and <a href="//github.com/mason-lang/msl/tree/master/src/Type/primitive.ms">Num</a> builtins act like <code>String</code> and <code>Number</code> but recognize primitives instead of the rarely-used object versions. There's also <a href="//github.com/mason-lang/msl/tree/master/src/Type/primitive.ms">Bool</a> and <a href="//github.com/mason-lang/msl/tree/master/src/Type/primitive.ms">Sym</a>.</p></section><mason-editor><pre>number->string = \:Str _:Num
	"#_"

|| This should fail
number->string []
</pre></mason-editor><section><p>You can also use <code>value:Type</code> (with no spaces) to call <code>contains?</code>.</p><p>For just <code>:Type</code>, the test is on <code>_</code>. (This works great in <code>case</code> expressions!)</p></section><mason-editor><pre>. 1:Num
. not 1:Str
_ = "one"
. not :Num
. :Str
</pre></mason-editor><a href="/tour/type#Pred-Type"><h1 id="Pred-Type">Pred-Type</h1></a><section><p>Any predicate can become a Type.</p><div class="aside"><code>name.</code> adds an object property equal to
the current name being assigned to, in this case <code>"Three"</code>.
</div></section><mason-editor><pre>Three = new Pred-Type
	name.
	predicate. \_
		=? _ 3

. 3:Three
. 4:Three
</pre></mason-editor><a href="/tour/type#prefix"><h1 id="prefix">prefix</h1></a><section><p>Mason code often uses prefixes and suffixes to indicate type.</p><p>The compiler doesn't treat these specially.
<a href="//github.com/mason-lang/msl">msl</a> follows this convention, but you don't have to.
</p></section><table><thead><tr><td>Looks like</td><td>Means</td></tr></thead><tr><td><code>?a</code></td><td><a href="//github.com/mason-lang/msl/tree/master/src/%40/%3F.ms">?</a> <span class="aside">option</span></td></tr><tr><td><code>$a</code></td><td><a href="//github.com/mason-lang/msl/tree/master/src/$.ms">$</a> <span class="aside">promise</span></td></tr><tr><td><code>@a</code></td><td><a href="//github.com/mason-lang/msl/tree/master/src/%40/@.ms">@</a> <span class="aside">collection</span></td></tr><tr><td><code>a->b</code></td><td><a href="//github.com/mason-lang/msl/tree/master/src/%40/Map.Map.ms">Map</a> <span class="aside">from a to b</span></td></tr><tr><td><code>a?</code></td><td><a href="//github.com/mason-lang/msl/tree/master/src/Type/primitive.ms">Bool</a></td></tr></table><p>An optional promise is <code>?$a</code>; a promise for an option is <code>$?a</code>.</p><p><code>a!</code> indicates a function that performs some action rather than just returning a value.</p></main><footer><div class="prev-next" id="prev"><a href="trait">trait</a></div><div id="middle"><ul><li><a href="//unlicense.org/UNLICENSE">unlicensed</a></li><li><a href="//github.com/mason-lang"><i class="fa fa-github"></i></a></li><li><a href="//andy-hanson.me">author</a></li></ul></div><div class="prev-next" id="next"><a href="misc">misc</a></div></footer></body></html>