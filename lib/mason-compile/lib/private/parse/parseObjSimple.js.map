{"version":3,"sources":["private/parse/parseObjSimple.js"],"names":[],"mappings":"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","file":"private/parse/parseObjSimple.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Loc', 'op/Op', '../ast/locals', '../ast/Val', '../token/Keyword', './checks', './parseExpr', './parseLocalDeclares', './parseMemberName'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Loc_1 = require('esast/lib/Loc');\n    const Op_1 = require('op/Op');\n    const locals_1 = require('../ast/locals');\n    const Val_1 = require('../ast/Val');\n    const Keyword_1 = require('../token/Keyword');\n    const checks_1 = require('./checks');\n    const parseExpr_1 = require('./parseExpr');\n    const parseLocalDeclares_1 = require('./parseLocalDeclares');\n    const parseMemberName_1 = require('./parseMemberName');\n    function parseObjSimple(tokens) {\n        const pairs = Op_1.caseOp(tokens.opSplitMany(_ => Keyword_1.isKeyword(23, _)), _ => complexPairs(tokens.loc, _), () => tokens.map(simplePair));\n        return new Val_1.ObjSimple(tokens.loc, pairs);\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = parseObjSimple;\n    function complexPairs(loc, splits) {\n        const first = splits[0].before;\n        checks_1.checkNonEmpty(first, _ => _.unexpected(splits[0].at));\n        checks_1.checkEmpty(first.rtail(), _ => _.unexpected(first.rtail()));\n        const pairs = [];\n        for (let i = 0; i < splits.length - 1; i = i + 1) {\n            const key = splits[i].before.last();\n            const val = i === splits.length - 2 ? splits[i + 1].before : splits[i + 1].before.rtail();\n            pairs.push(val.isEmpty() ?\n                simplePair(key) :\n                new Val_1.ObjPair(new Loc_1.default(key.loc.start, val.loc.end), parseMemberName_1.default(key), parseExpr_1.default(val)));\n        }\n        return pairs;\n    }\n    function simplePair(key) {\n        const name = parseLocalDeclares_1.parseLocalName(key);\n        return new Val_1.ObjPair(key.loc, name, new locals_1.LocalAccess(key.loc, name));\n    }\n});\n"],"sourceRoot":"/source/"}