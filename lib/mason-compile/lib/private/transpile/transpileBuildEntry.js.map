{"version":3,"sources":["private/transpile/transpileBuildEntry.js"],"names":[],"mappings":"AAAA,CAAC,UAAU,OAAV,EAAmB;AAChB,QAAI,OAAO,MAAP,KAAkB,QAAlB,IAA8B,OAAO,OAAO,OAAP,KAAmB,QAA1B,EAAoC;AAClE,YAAI,IAAI,QAAQ,OAAR,EAAiB,OAAjB,CAAJ,CAD8D,IAC3B,MAAM,SAAN,EAAiB,OAAO,OAAP,GAAiB,CAAjB,CAArB;KADvC,MAGK,IAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAAP,EAAY;AACjD,eAAO,CAAC,SAAD,EAAY,SAAZ,EAAuB,sBAAvB,EAA+C,mBAA/C,EAAoE,qBAApE,EAA2F,4BAA3F,EAAyH,mBAAzH,EAA8I,eAA9I,EAA+J,SAA/J,EAA0K,WAA1K,EAAuL,mBAAvL,EAA4M,MAA5M,EAAoN,eAApN,EAAqO,mBAArO,EAA0P,uBAA1P,EAAmR,mBAAnR,EAAwS,gBAAxS,CAAP,EAAkU,OAAlU,EADiD;KAAhD;CAJR,CAAD,CAOG,UAAU,OAAV,EAAmB,OAAnB,EAA4B;AAC3B,iBAD2B;;AAE3B,UAAM,eAAe,QAAQ,sBAAR,CAAf,CAFqB;AAG3B,UAAM,YAAY,QAAQ,mBAAR,CAAZ,CAHqB;AAI3B,UAAM,cAAc,QAAQ,qBAAR,CAAd,CAJqB;AAK3B,UAAM,SAAS,QAAQ,4BAAR,CAAT,CALqB;AAM3B,UAAM,eAAe,QAAQ,mBAAR,CAAf,CANqB;AAO3B,UAAM,WAAW,QAAQ,eAAR,CAAX,CAPqB;AAQ3B,UAAM,SAAS,QAAQ,SAAR,CAAT,CARqB;AAS3B,UAAM,YAAY,QAAQ,WAAR,CAAZ,CATqB;AAU3B,UAAM,oBAAoB,QAAQ,mBAAR,CAApB,CAVqB;AAW3B,UAAM,OAAO,QAAQ,MAAR,CAAP,CAXqB;AAY3B,UAAM,gBAAgB,QAAQ,eAAR,CAAhB,CAZqB;AAa3B,UAAM,oBAAoB,QAAQ,mBAAR,CAApB,CAbqB;AAc3B,UAAM,wBAAwB,QAAQ,uBAAR,CAAxB,CAdqB;AAe3B,UAAM,oBAAoB,QAAQ,mBAAR,CAApB,CAfqB;AAgB3B,UAAM,iBAAiB,QAAQ,gBAAR,CAAjB,CAhBqB;AAiB3B,aAAS,wBAAT,CAAkC,CAAlC,EAAqC;AACjC,YAAI,aAAa,aAAa,QAAb,EAAuB;kBAC5B,SAAkB,EAAlB,OAD4B;kBACpB,QAAU,EAAV,MADoB;;AAEpC,mBAAO,IAAI,YAAY,mBAAZ,CAAgC,KAAK,MAAL,CAAY,SAAS,SAAT,GAAqB,KAArB,EAA4B,kBAAkB,OAAlB,EAA2B,eAAe,OAAf,CAAuB,KAAvB,CAAnE,CAApC,CAAP,CAFoC;SAAxC,MAIK,IAAI,aAAa,aAAa,QAAb,EAAuB;kBACjC,MAAa,EAAb,IADiC;kBAC5B,MAAQ,EAAR,IAD4B;;AAEzC,mBAAO,IAAI,YAAY,mBAAZ,CAAgC,KAAK,MAAL,CAAY,QAAZ,EAAsB,kBAAkB,OAAlB,EAA2B,eAAe,OAAf,CAAuB,GAAvB,CAAjD,EAA8E,eAAe,OAAf,CAAuB,GAAvB,CAA9E,CAApC,CAAP,CAFyC;SAAxC,MAIA,IAAI,aAAa,aAAa,cAAb,EAA6B;kBACvC,SAAW,EAAX,OADuC;;AAE/C,gBAAI,kBAAkB,SAAS,YAAT,IAAyB,CAAC,OAAO,QAAP,CAAgB,MAAhB,EAAwB;AACpE,sBAAM,OAAO,OAAO,QAAP,CAAgB,IAAhB,CADuD;AAEpE,uBAAO,kBAAkB,0BAAlB,CAA6C,MAA7C,EAAqD,OAAO,UAAU,aAAV,CAAwB,gBAAxB,CAAyC,CAAzC,IAC/D,kBAAkB,oBAAlB,CAAuC,GAAvC,EAA4C,IAA5C,CAD+D,GAE/D,IAAI,aAAa,oBAAb,CAAkC,GAAtC,EAA2C,OAAO,MAAP,CAAc,kBAAkB,OAAlB,EAA2B,IAAzC,CAA3C,EAA2F,GAA3F,CAF+D,CAAnE,CAFoE;aAAxE,MAMK;AACD,sBAAM,UAAU,OAAO,YAAP,GAAsB,GAAtB,CAA0B,KAAK,IAAI,YAAY,mBAAZ,CAAgC,KAAK,MAAL,CAAY,SAAZ,EAAuB,kBAAkB,OAAlB,EAA2B,IAAI,UAAU,aAAV,CAAwB,EAAE,IAAF,CAA9E,EAAuF,kBAAkB,kBAAlB,CAAqC,CAArC,CAAvF,CAApC,CAAL,CAApC,CADL;AAED,uBAAO,OAAO,GAAP,CAAW,cAAc,OAAd,CAAsB,MAAtB,CAAX,EAA0C,OAA1C,CAAP,CAFC;aANL;SAFC,MAaA,IAAI,aAAa,aAAa,aAAb,EAA4B;kBACtC,OAAgB,EAAhB,KADsC;kBAChC,QAAU,EAAV,MADgC;;AAE9C,kBAAM,MAAM,eAAe,OAAf,CAAuB,KAAvB,CAAN,CAFwC;AAG9C,mBAAO,IAAI,YAAY,mBAAZ,CAAgC,UAAU,aAAV,CAAwB,gBAAxB,CAAyC,CAAzC,IACvC,kBAAkB,oBAAlB,CAAuC,GAAvC,EAA4C,IAA5C,CADuC,GAEvC,IAAI,aAAa,oBAAb,CAAkC,GAAtC,EAA2C,sBAAsB,eAAtB,CAAsC,kBAAkB,OAAlB,EAA2B,IAAjE,CAA3C,EAAmH,GAAnH,CAFuC,CAA3C,CAH8C;SAA7C,MAQD,MAAM,IAAI,KAAJ,CAAU,EAAE,WAAF,CAAc,IAAd,CAAhB,CARC;KAtBT;AAgCA,YAAQ,wBAAR,GAAmC,wBAAnC,CAjD2B;CAA5B,CAPH","file":"private/transpile/transpileBuildEntry.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Expression', 'esast/lib/Literal', 'esast/lib/Statement', 'esast-create-util/lib/util', '../ast/BuildEntry', '../ast/locals', '../util', './context', './esast-constants', './ms', './transpileDo', './transpileLocals', './transpileMemberName', './transpileModule', './transpileVal'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Expression_1 = require('esast/lib/Expression');\n    const Literal_1 = require('esast/lib/Literal');\n    const Statement_1 = require('esast/lib/Statement');\n    const util_1 = require('esast-create-util/lib/util');\n    const BuildEntry_1 = require('../ast/BuildEntry');\n    const locals_1 = require('../ast/locals');\n    const util_2 = require('../util');\n    const context_1 = require('./context');\n    const esast_constants_1 = require('./esast-constants');\n    const ms_1 = require('./ms');\n    const transpileDo_1 = require('./transpileDo');\n    const transpileLocals_1 = require('./transpileLocals');\n    const transpileMemberName_1 = require('./transpileMemberName');\n    const transpileModule_1 = require('./transpileModule');\n    const transpileVal_1 = require('./transpileVal');\n    function transpileBuildEntryNoLoc(_) {\n        if (_ instanceof BuildEntry_1.BagEntry) {\n            const { isMany, value } = _;\n            return new Statement_1.ExpressionStatement(ms_1.msCall(isMany ? 'addMany' : 'add', esast_constants_1.idBuilt, transpileVal_1.default(value)));\n        }\n        else if (_ instanceof BuildEntry_1.MapEntry) {\n            const { key, val } = _;\n            return new Statement_1.ExpressionStatement(ms_1.msCall('setSub', esast_constants_1.idBuilt, transpileVal_1.default(key), transpileVal_1.default(val)));\n        }\n        else if (_ instanceof BuildEntry_1.ObjEntryAssign) {\n            const { assign } = _;\n            if (assign instanceof locals_1.AssignSingle && !assign.assignee.isLazy) {\n                const name = assign.assignee.name;\n                return transpileLocals_1.transpileAssignSingleNoLoc(assign, val => context_1.verifyResults.isObjEntryExport(_) ?\n                    transpileModule_1.exportNamedOrDefault(val, name) :\n                    new Expression_1.AssignmentExpression('=', util_1.member(esast_constants_1.idBuilt, name), val));\n            }\n            else {\n                const assigns = assign.allAssignees().map(_ => new Statement_1.ExpressionStatement(ms_1.msCall('setLazy', esast_constants_1.idBuilt, new Literal_1.LiteralString(_.name), transpileLocals_1.idForDeclareCached(_))));\n                return util_2.cat(transpileDo_1.default(assign), assigns);\n            }\n        }\n        else if (_ instanceof BuildEntry_1.ObjEntryPlain) {\n            const { name, value } = _;\n            const val = transpileVal_1.default(value);\n            return new Statement_1.ExpressionStatement(context_1.verifyResults.isObjEntryExport(_) ?\n                transpileModule_1.exportNamedOrDefault(val, name) :\n                new Expression_1.AssignmentExpression('=', transpileMemberName_1.transpileMember(esast_constants_1.idBuilt, name), val));\n        }\n        else\n            throw new Error(_.constructor.name);\n    }\n    exports.transpileBuildEntryNoLoc = transpileBuildEntryNoLoc;\n});\n"],"sourceRoot":"/source/"}