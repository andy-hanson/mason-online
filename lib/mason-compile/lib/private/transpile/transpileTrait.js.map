{"version":3,"sources":["private/transpile/transpileTrait.js"],"names":[],"mappings":"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","file":"private/transpile/transpileTrait.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Expression', 'esast/lib/ObjectExpression', 'esast/lib/Literal', 'esast/lib/Statement', 'op/Op', './context', './esast-constants', './ms', './transpileBlock', './transpileClassTraitCommon', './transpileLocals', './transpileVal'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Expression_1 = require('esast/lib/Expression');\n    const ObjectExpression_1 = require('esast/lib/ObjectExpression');\n    const Literal_1 = require('esast/lib/Literal');\n    const Statement_1 = require('esast/lib/Statement');\n    const Op_1 = require('op/Op');\n    const context_1 = require('./context');\n    const esast_constants_1 = require('./esast-constants');\n    const ms_1 = require('./ms');\n    const transpileBlock_1 = require('./transpileBlock');\n    const transpileClassTraitCommon_1 = require('./transpileClassTraitCommon');\n    const transpileLocals_1 = require('./transpileLocals');\n    const transpileVal_1 = require('./transpileVal');\n    function transpileTraitNoLoc(_) {\n        const { superTraits, opDo, statics, methods } = _;\n        const name = new Literal_1.LiteralString(context_1.verifyResults.name(_));\n        const supers = new Expression_1.ArrayExpression(superTraits.map(transpileVal_1.default));\n        const trait = ms_1.msCall('trait', name, supers, methodsObject(statics), methodsObject(methods));\n        return Op_1.caseOp(opDo, _ => transpileBlock_1.transpileBlockVal(_.block, { lead: transpileLocals_1.plainLet(esast_constants_1.idFocus, trait), follow: esast_constants_1.returnFocus }), () => trait);\n    }\n    exports.transpileTraitNoLoc = transpileTraitNoLoc;\n    function transpileTraitDoNoLoc(_) {\n        const { implementor, trait, statics, methods } = _;\n        return new Statement_1.ExpressionStatement(ms_1.msCall('traitWithDefs', transpileVal_1.default(implementor), transpileVal_1.default(trait), methodsObject(statics), methodsObject(methods)));\n    }\n    exports.transpileTraitDoNoLoc = transpileTraitDoNoLoc;\n    function methodsObject(_) {\n        return new ObjectExpression_1.default(_.map(transpileClassTraitCommon_1.transpileMethodToProperty));\n    }\n});\n"],"sourceRoot":"/source/"}