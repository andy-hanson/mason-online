{"version":3,"sources":["private/verify/verifyPoly.js"],"names":[],"mappings":"AAAA,CAAC,UAAU,OAAV,EAAmB;AAChB,QAAI,OAAO,MAAP,KAAkB,QAAlB,IAA8B,OAAO,OAAO,OAAP,KAAmB,QAA1B,EAAoC;AAClE,YAAI,IAAI,QAAQ,OAAR,EAAiB,OAAjB,CAAJ,CAD8D,IAC3B,MAAM,SAAN,EAAiB,OAAO,OAAP,GAAiB,CAAjB,CAArB;KADvC,MAGK,IAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAAP,EAAY;AACjD,eAAO,CAAC,SAAD,EAAY,SAAZ,EAAuB,OAAvB,EAAgC,YAAhC,EAA8C,aAA9C,EAA6D,QAA7D,EAAuE,aAAvE,EAAsF,gBAAtF,EAAwG,aAAxG,CAAP,EAA+H,OAA/H,EADiD;KAAhD;CAJR,CAAD,CAOG,UAAU,OAAV,EAAmB,OAAnB,EAA4B;AAC3B,iBAD2B;;AAE3B,UAAM,OAAO,QAAQ,OAAR,CAAP,CAFqB;AAG3B,UAAM,QAAQ,QAAQ,YAAR,CAAR,CAHqB;AAI3B,UAAM,SAAS,QAAQ,aAAR,CAAT,CAJqB;AAK3B,UAAM,SAAS,QAAQ,QAAR,CAAT,CALqB;AAM3B,UAAM,cAAc,QAAQ,aAAR,CAAd,CANqB;AAO3B,UAAM,iBAAiB,QAAQ,gBAAR,CAAjB,CAPqB;AAQ3B,UAAM,cAAc,QAAQ,aAAR,CAAd,CARqB;AAS3B,aAAS,UAAT,OAA+B;YAAT,mBAAS;;AAC3B,YAAI,iBAAiB,MAAM,QAAN,EACjB,OAAO,eAAP,CAAuB,KAAK,OAAL,CAAa,MAAM,aAAN,CAApC,EADJ;AAEA,cAAM,IAAN,CAAW,OAAX,CAAmB,OAAO,eAAP,CAAnB,CAH2B;AAI3B,aAAK,MAAL,CAAY,MAAM,SAAN,EAAiB,OAAO,eAAP,CAA7B,CAJ2B;AAK3B,0BAAkB,KAAlB,EAL2B;KAA/B;AAOA,WAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C,EAAE,OAAO,IAAP,EAA/C,EAhB2B;AAiB3B,YAAQ,OAAR,GAAkB,UAAlB,CAjB2B;AAkB3B,aAAS,iBAAT,CAA2B,CAA3B,EAA8B;AAC1B,YAAI,aAAa,OAAO,WAAP,EACb,kBAAkB,CAAlB,EADJ,KAGI,YAAY,cAAZ,CAA2B,CAA3B,EAHJ;KADJ;AAMA,aAAS,iBAAT,QAA8D;YAAjC,kBAAiC;YAA3B,4BAA2B;YAAhB,kCAAgB;;AAC1D,aAAK,MAAM,CAAN,IAAW,IAAhB,EACI,eAAe,kBAAf,CAAkC,CAAlC,EADJ;AAEA,aAAK,MAAL,CAAY,SAAZ,EAAuB,eAAe,kBAAf,CAAvB,CAH0D;AAI1D,oBAAY,WAAZ,CAAwB,YAAxB,EAJ0D;KAA9D;CAxBD,CAPH","file":"private/verify/verifyPoly.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'op/Op', '../ast/Fun', '../ast/Poly', './util', './verifyFun', './verifyLocals', './verifyVal'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Op_1 = require('op/Op');\n    const Fun_1 = require('../ast/Fun');\n    const Poly_1 = require('../ast/Poly');\n    const util_1 = require('./util');\n    const verifyFun_1 = require('./verifyFun');\n    const verifyLocals_1 = require('./verifyLocals');\n    const verifyVal_1 = require('./verifyVal');\n    function verifyPoly({ value }) {\n        if (value instanceof Fun_1.FunBlock)\n            util_1.makeUseOptional(Op_1.orThrow(value.opDeclareThis));\n        value.args.forEach(util_1.makeUseOptional);\n        Op_1.opEach(value.opRestArg, util_1.makeUseOptional);\n        verifyMethodValue(value);\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = verifyPoly;\n    function verifyMethodValue(_) {\n        if (_ instanceof Poly_1.FunAbstract)\n            verifyFunAbstract(_);\n        else\n            verifyFun_1.verifyFunBlock(_);\n    }\n    function verifyFunAbstract({ args, opRestArg, opReturnType }) {\n        for (const _ of args)\n            verifyLocals_1.verifyLocalDeclare(_);\n        Op_1.opEach(opRestArg, verifyLocals_1.verifyLocalDeclare);\n        verifyVal_1.verifyOpVal(opReturnType);\n    }\n});\n"],"sourceRoot":"/source/"}