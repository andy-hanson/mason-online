{"version":3,"sources":["private/verify/verifyErrors.js"],"names":[],"mappings":"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","file":"private/verify/verifyErrors.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'op/Op', '../context', '../util', './util', './verifyBlock', './verifyLocals', './verifyVal'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Op_1 = require('op/Op');\n    const context_1 = require('../context');\n    const util_1 = require('../util');\n    const util_2 = require('./util');\n    const verifyBlock_1 = require('./verifyBlock');\n    const verifyLocals_1 = require('./verifyLocals');\n    const verifyVal_1 = require('./verifyVal');\n    function verifyAssert({ condition, opThrown }) {\n        verifyVal_1.default(condition);\n        verifyVal_1.verifyOpVal(opThrown);\n    }\n    exports.verifyAssert = verifyAssert;\n    function verifyExcept(_, sk) {\n        const { loc, tried, typedCatches, opCatchAll, allCatches, opElse, opFinally } = _;\n        Op_1.caseOp(opElse, _ => {\n            verifyLocals_1.plusLocals(verifyBlock_1.verifyBlockDo(tried), () => verifyBlock_1.verifyBlockSK(_, sk));\n            if (util_1.isEmpty(allCatches))\n                context_1.warn(loc, _ => _.elseRequiresCatch);\n        }, () => verifyBlock_1.verifyBlockSK(tried, sk));\n        if (util_1.isEmpty(allCatches) && opFinally === null)\n            context_1.warn(loc, _ => _.uselessExcept);\n        for (const _ of typedCatches)\n            verifyCatch(_, sk);\n        Op_1.opEach(opCatchAll, _ => verifyCatch(_, sk));\n        Op_1.opEach(opFinally, verifyBlock_1.verifyBlockDo);\n    }\n    exports.verifyExcept = verifyExcept;\n    function verifyCatch({ caught, block }, sk) {\n        util_2.makeUseOptionalIfFocus(caught);\n        util_2.verifyNotLazy(caught, _ => _.noLazyCatch);\n        verifyLocals_1.verifyAndPlusLocal(caught, () => {\n            verifyBlock_1.verifyBlockSK(block, sk);\n        });\n    }\n    function verifyThrow(_) {\n        verifyVal_1.verifyOpVal(_.opThrown);\n    }\n    exports.verifyThrow = verifyThrow;\n});\n"],"sourceRoot":"/source/"}