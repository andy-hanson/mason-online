{"version":3,"sources":["mangle-identifier.js","mangle-identifier.ts"],"names":[],"mappings":"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","file":"mangle-identifier.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    function mangleIdentifier(name) {\n        return exports.forbiddenNames.has(name) ?\n            `_${name}` :\n            name.replace(/[^a-zA-Z0-9$_]/g, _ => `_${_.charCodeAt(0)}`);\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = mangleIdentifier;\n    function needsMangle(name) {\n        return exports.forbiddenNames.has(name) || !propertyNameOk(name);\n    }\n    exports.needsMangle = needsMangle;\n    function propertyNameOk(name) {\n        return name.search(/[^a-zA-Z0-9$_]/) === -1;\n    }\n    exports.propertyNameOk = propertyNameOk;\n    function unmangle(name) {\n        if (name[0] === '_') {\n            const rest = name.slice(1);\n            if (exports.forbiddenNames.has(rest))\n                return rest;\n        }\n        return name.replace(/_\\d+/g, match => {\n            const charCodeString = match.slice(1);\n            const charCode = Number.parseInt(charCodeString, 10);\n            const char = String.fromCharCode(charCode);\n            return char === '\\0' ? match : char;\n        });\n    }\n    exports.unmangle = unmangle;\n    exports.forbiddenNames = new Set([\n        'abstract',\n        'arguments',\n        'boolean',\n        'break',\n        'byte',\n        'case',\n        'catch',\n        'char',\n        'class',\n        'comment',\n        'const',\n        'continue',\n        'debugger',\n        'default',\n        'delete',\n        'do',\n        'double',\n        'else',\n        'enum',\n        'eval',\n        'export',\n        'extends',\n        'false',\n        'final',\n        'finally',\n        'float',\n        'for',\n        'function',\n        'function*',\n        'goto',\n        'if',\n        'implements',\n        'import',\n        'in',\n        'instanceOf',\n        'int',\n        'interface',\n        'label',\n        'long',\n        'module',\n        'native',\n        'new',\n        'null',\n        'package',\n        'private',\n        'protected',\n        'public',\n        'return',\n        'short',\n        'static',\n        'super',\n        'switch',\n        'synchronized',\n        'this',\n        'throw',\n        'throws',\n        'transient',\n        'true',\n        'try',\n        'typeof',\n        'var',\n        'void',\n        'while',\n        'with',\n        'yield'\n    ]);\n});\n","/** Convert a name (any string) to a valid JavaScript identifier. */\nexport default function mangleIdentifier(name: string): string {\n\treturn forbiddenNames.has(name) ?\n\t\t`_${name}` :\n\t\tname.replace(/[^a-zA-Z0-9$_]/g, _ => `_${_.charCodeAt(0)}`)\n}\n\n/** `false` iff `name` is a valid JavaScript identifier. */\nexport function needsMangle(name: string): boolean {\n\treturn forbiddenNames.has(name) || !propertyNameOk(name)\n}\n\n/** `true` iff `name` can be used as a property name using dot syntax (`a.b`). */\nexport function propertyNameOk(name: string): boolean {\n\treturn name.search(/[^a-zA-Z0-9$_]/) === -1\n}\n\n/** Undoes [[mangleIdentifier]]. */\nexport function unmangle(name: string): string {\n\tif (name[0] === '_') {\n\t\tconst rest = name.slice(1)\n\t\tif (forbiddenNames.has(rest))\n\t\t\treturn rest\n\t}\n\treturn name.replace(/_\\d+/g, match => {\n\t\tconst charCodeString = match.slice(1)\n\t\tconst charCode = Number.parseInt(charCodeString, 10)\n\t\tconst char = String.fromCharCode(charCode)\n\t\treturn char === '\\0' ? match : char\n\t})\n}\n\n/** Set of all JavaScript keywords. */\nexport const forbiddenNames: Set<string> = new Set([\n\t'abstract',\n\t'arguments',\n\t'boolean',\n\t'break',\n\t'byte',\n\t'case',\n\t'catch',\n\t'char',\n\t'class',\n\t'comment',\n\t'const',\n\t'continue',\n\t'debugger',\n\t'default',\n\t'delete',\n\t'do',\n\t'double',\n\t'else',\n\t'enum',\n\t'eval',\n\t'export',\n\t'extends',\n\t'false',\n\t'final',\n\t'finally',\n\t'float',\n\t'for',\n\t'function',\n\t'function*',\n\t'goto',\n\t'if',\n\t'implements',\n\t'import',\n\t'in',\n\t'instanceOf',\n\t'int',\n\t'interface',\n\t'label',\n\t'long',\n\t'module',\n\t'native',\n\t'new',\n\t'null',\n\t'package',\n\t'private',\n\t'protected',\n\t'public',\n\t'return',\n\t'short',\n\t'static',\n\t'super',\n\t'switch',\n\t'synchronized',\n\t'this',\n\t'throw',\n\t'throws',\n\t'transient',\n\t'true',\n\t'try',\n\t'typeof',\n\t'var',\n\t'void',\n\t'while',\n\t'with',\n\t'yield'\n])\n"],"sourceRoot":"/source/"}